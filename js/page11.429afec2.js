(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page11"],{"02fd":function(t,e,r){"use strict";r("56b5")},"56b5":function(t,e,r){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var n=r("1d80"),a=r("5899"),i="["+a+"]",o=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),c=function(t){return function(e){var r=String(n(e));return 1&t&&(r=r.replace(o,"")),2&t&&(r=r.replace(s,"")),r}};t.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(t,e,r){var n=r("861d"),a=r("d2bb");t.exports=function(t,e,r){var i,o;return a&&"function"==typeof(i=e.constructor)&&i!==r&&n(o=i.prototype)&&o!==r.prototype&&a(t,o),t}},a9e3:function(t,e,r){"use strict";var n=r("83ab"),a=r("da84"),i=r("94ca"),o=r("6eeb"),s=r("5135"),c=r("c6b6"),u=r("7156"),l=r("c04e"),d=r("d039"),f=r("7c73"),p=r("241c").f,m=r("06cf").f,v=r("9bf2").f,b=r("58a8").trim,h="Number",y=a[h],g=y.prototype,_=c(f(g))==h,w=function(t){var e,r,n,a,i,o,s,c,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=b(u),e=u.charCodeAt(0),43===e||45===e){if(r=u.charCodeAt(2),88===r||120===r)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+u}for(i=u.slice(2),o=i.length,s=0;s<o;s++)if(c=i.charCodeAt(s),c<48||c>a)return NaN;return parseInt(i,n)}return+u};if(i(h,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var I,k=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof k&&(_?d((function(){g.valueOf.call(r)})):c(r)!=h)?u(new y(w(e)),r,k):w(e)},N=n?p(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;N.length>E;E++)s(y,I=N[E])&&!s(k,I)&&v(k,I,m(y,I));k.prototype=g,g.constructor=k,o(a,h,k)}},bc79:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("v-breadcrumbs",{staticClass:"topic-breadcrumbs",attrs:{items:t.breadcrumbs,large:!0}}),n("v-card",{attrs:{outlined:!0}},[n("div",{staticClass:"topic-header"},[n("div",[n("h2",{staticClass:"topic-title"},[t._v(" "+t._s(t.topic.title)+" ")]),n("span",{staticClass:"topic-sub-title"},[t._v(t._s(t.topic.last_reply_by)+" · "+t._s(t.topic.last_touched)+" · "+t._s(t.topic.replies)+"次点击")])]),n("v-avatar",{attrs:{size:"70"}},[n("v-img",{attrs:{src:t.$$(t.topic,"member","avatar_large"),"lazy-src":r("d378")}})],1)],1),n("v-divider"),n("render-content",{staticClass:"pa-4",attrs:{type:"html",source:t.topic.content_rendered}})],1),n("v-card",{staticClass:"topic-reply-area",attrs:{outlined:!0}},t._l(t.replies,(function(t){return n("reply-item",{key:t.id,attrs:{reply:t}})})),1),n("watermark",{attrs:{text:"测试水印"}})],1)},a=[],i=(r("d81d"),r("b0c0"),r("c40d")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list-item",{attrs:{outline:"true"},on:{click:function(){}}},[n("v-list-item-avatar",{attrs:{size:"40"}},[n("v-img",{attrs:{src:t.$$(t.reply,"member","avatar_mini"),"lazy-src":r("d378")}})],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{innerHTML:t._s(t.reply.content_rendered)}}),n("v-list-item-subtitle",[t._v(" "+t._s(t.$$(t.reply,"member","username"))+" · "+t._s(t.reply.created)+" ")])],1)],1)},s=[],c={props:{reply:{type:Object,default:function(){return{}}}}},u=c,l=r("2877"),d=r("6544"),f=r.n(d),p=r("adda"),m=r("da13"),v=r("8270"),b=r("5d23"),h=Object(l["a"])(u,o,s,!1,null,null,null),y=h.exports;f()(h,{VImg:p["a"],VListItem:m["a"],VListItemAvatar:v["a"],VListItemContent:b["b"],VListItemSubtitle:b["c"],VListItemTitle:b["d"]});var g=r("0db1"),_=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"watermark",staticClass:"watermark"})},w=[],I=(r("a9e3"),r("a4d3"),r("e01a"),r("d28b"),r("d3b7"),r("3ca3"),r("ddb0"),r("06c5"));function k(t,e){var r;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=Object(I["a"])(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,i=t},f:function(){try{o||null==r["return"]||r["return"]()}finally{if(s)throw i}}}}var N={props:{text:{type:String,default:"hello world"},rotate:{type:Number,default:35}},data:function(){return{watermarkDataUrl:""}},computed:{watermark:function(){return this.$refs.watermark},parentNode:function(){var t;return null===(t=this.$refs.watermark)||void 0===t?void 0:t.parentNode}},mounted:function(){var t=this;this.$nextTick((function(){t.init(),t.observerChange()}))},methods:{init:function(){this.parentNode.style.position="relative",this.createWatermark(this.text),this.setStyle()},createWatermark:function(t){if("string"===typeof t){var e=document.createElement("canvas");e.height=150,e.width=150;var r=e.getContext("2d");r.rotate(Math.PI/180*30),r.font="18px serif",r.fillStyle="rgba(225,65,53, 0.3)",r.fillText(t,65,36),this.watermarkDataUrl=e.toDataURL()}},restoreWatermark:function(){!this.parentNode.getElementsByClassName("watermark").length&&this.parentNode.append(this.watermark)},setStyle:function(){Object.assign(this.watermark.style,{position:"absolute",top:0,bottom:0,left:0,right:0,"pointer-events":"none","background-repeat":"repeat",backgroundImage:"url(".concat(this.watermarkDataUrl,")")})},observerChange:function(){var t=this.watermark,e={attributes:!0,childList:!0,subtree:!0},r=this,n=function(t){var e,n=k(t);try{for(n.s();!(e=n.n()).done;){var a,i=e.value;(null===(a=i.removedNodes)||void 0===a?void 0:a[0])===r.watermark?(console.log("watermark was removed"),r.restoreWatermark()):"attributes"===i.type&&r.setStyle()}}catch(o){n.e(o)}finally{n.f()}},a=new MutationObserver(n);a.observe(this.parentNode,{childList:!0}),a.observe(t,e)}}},E=N,C=Object(l["a"])(E,_,w,!1,null,null,null),x=C.exports,S={name:"Topic",components:{replyItem:y,RenderContent:g["a"],watermark:x},props:{id:{type:String,default:""}},data:function(){return{topic:{},breadcrumbs:[],replies:[]}},computed:{},watch:{id:function(){this.fetchData()}},created:function(){var t=this;Object(i["c"])(this.id).then((function(e){var r=null===e||void 0===e?void 0:e[0],n=r.node;t.topic=null===e||void 0===e?void 0:e[0],t.breadcrumbs=[n.parent_node_name,n.name].map((function(t){return{text:t.toUpperCase(),disabled:!1,href:"".concat(t)}}))})),Object(i["d"])({}).then((function(e){t.replies=e}))}},T=S,A=(r("02fd"),r("8212")),V=r("2bc5"),$=r("b0af"),L=r("ce7e"),O=Object(l["a"])(T,n,a,!1,null,"d085d924",null);e["default"]=O.exports;f()(O,{VAvatar:A["a"],VBreadcrumbs:V["a"],VCard:$["a"],VDivider:L["a"],VImg:p["a"]})},c40d:function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return o})),r.d(e,"d",(function(){return s}));var n=r("ced4"),a=function(t){return n["d"].get("/getTabInfo?tab=".concat(t))},i=function(){return n["d"].get("/getToDayHot")},o=function(t){return n["d"].get("/getTopicInfo?id=".concat(t))},s=function(t){return n["d"].post("/getTopicReply",t)}}}]);
//# sourceMappingURL=page11.429afec2.js.map